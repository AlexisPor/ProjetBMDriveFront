
<div class="jumbotron bg-light">
  <h1 class="d-block p-3 bg-info text-white " style="margin-top: 80px; text-align: center;">Liste des agents</h1>

<div class="d-flex bd-highlight">
  <div class="p-2 flex-grow-1 bd-highlight">
    
      <button (click)="ajouter()" class="btn btn-success">Ajouter un agent</button>
    
  </div>

  <div class="d-flex flex-row-reverse bd-highlight mb-2">
   
      <select (change)="onTableSizeChange($event)" class="custom-select">
        <option *ngFor="let size of pageSizes" [ngValue]="size">
          {{ size }}
        </option>
      </select>
    
  </div>
</div>

<table class="table table-dark table-striped table-bordered text-center">
  <thead>
    <tr>
      <th class="action" scope="col">Id</th>
      <th class="action" scope="col">Nom d'utilisateur</th>
      <th class="action" scope="col">Mot de passe</th>
      <th colspan="2" scope="col" class="action"><i>Action</i></th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let agt of newAgentBM | paginate : { id: 'listing-pagination',
      itemsPerPage: pageSize,
      currentPage: page,
      totalItems: count
    };
    ">
      <td>{{agt.abmId}}</td>
      <td>{{agt.abmNomUtilisateur}}</td>
      <td>{{agt.abmMotDePasse}}</td>

      <td>
        <button type="button" class="btn btn-success mr-4" id="btnUpdate" routerLink="/update-agentBM/{{agt.abmId}}">Modifier</button>
        <button type="submit" class="btn btn-danger" (click)="deleteAgentBM(agt.abmId)">Supprimer</button>
      </td>

    </tr>
  </tbody>
</table>

<div class="d-flex justify-content-center">
  <pagination-controls 
    id='listing-pagination' (pageChange)="page =$event">
  </pagination-controls>
</div>